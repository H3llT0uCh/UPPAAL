<?xml version="1.0" encoding="utf-8"?><!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd'><nta><declaration>const int num_msg=1;

// Place global declarations here.
clock x,y;
clock clmsg[num_msg]; // 20 clocks (1 para cada mensagem)
chan message,lost;



int msgID=0;</declaration><template><name x="5" y="5">Source</name><declaration>// Place local declarations here.
</declaration><location id="id0" x="-16" y="-56"><name x="0" y="-80">SEND</name></location><location id="id1" x="-224" y="-56"><name x="-240" y="-24">WAIT</name><label kind="invariant" x="-234" y="-41">x&lt;50</label></location><location id="id2" x="-752" y="-56"><name x="-762" y="-86">INIT</name></location><location id="id3" x="-480" y="-56"><name x="-504" y="-40">SOURCE</name></location><init ref="id2"/><transition><source ref="id0"/><target ref="id2"/><label kind="synchronisation" x="-424" y="96">message!</label><label kind="assignment" x="-440" y="120">clmsg[msgID]:=0</label><nail x="-16" y="88"/><nail x="-752" y="80"/></transition><transition><source ref="id1"/><target ref="id0"/><label kind="guard" x="-152" y="-80">x==50</label></transition><transition><source ref="id1"/><target ref="id1"/><label kind="guard" x="-248" y="-208">x&lt;50</label><nail x="-288" y="-184"/><nail x="-176" y="-184"/></transition><transition><source ref="id3"/><target ref="id1"/><label kind="assignment" x="-392" y="-48">x:=0</label></transition><transition><source ref="id2"/><target ref="id3"/></transition></template><template><name>Reciever</name><location id="id4" x="-312" y="120"></location><location id="id5" x="-120" y="104"><name x="-104" y="112">OK</name></location><location id="id6" x="-120" y="-16"><name x="-112" y="-48">PROCESS</name></location><location id="id7" x="-312" y="-16"><name x="-400" y="-40">RECIEVER</name></location><init ref="id7"/><transition><source ref="id4"/><target ref="id7"/><nail x="-672" y="120"/></transition><transition><source ref="id7"/><target ref="id4"/><label kind="guard" x="-464" y="80">clmsg[msgID]&gt;=90</label><label kind="synchronisation" x="-352" y="56">lost!</label></transition><transition><source ref="id5"/><target ref="id7"/></transition><transition><source ref="id6"/><target ref="id5"/><label kind="guard" x="-112" y="24">y==5</label></transition><transition><source ref="id7"/><target ref="id6"/><label kind="synchronisation" x="-264" y="-32">message?</label><label kind="assignment" x="-248" y="-48">y:=0</label></transition></template><template><name>Source_Worker</name><location id="id8" x="-16" y="-32"></location><location id="id9" x="-216" y="-32"></location><init ref="id9"/><transition><source ref="id8"/><target ref="id9"/><nail x="-16" y="128"/><nail x="-248" y="88"/></transition><transition><source ref="id9"/><target ref="id8"/><label kind="synchronisation" x="-152" y="-48">lost?</label></transition></template><system>// Place template instantiations here.


// List one or more processes to be composed into a system.
system Source,Reciever,Source_Worker;</system></nta>